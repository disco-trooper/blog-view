(function(t){function e(e){for(var s,r,i=e[0],c=e[1],u=e[2],p=0,d=[];p<i.length;p++)r=i[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},o=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/blog-view/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"16a3":function(t,e,n){"use strict";var s=n("cd8c"),a=n.n(s);a.a},"250a":function(t,e,n){"use strict";var s=n("3e38"),a=n.n(s);a.a},3363:function(t,e,n){"use strict";var s=n("8ff2"),a=n.n(s);a.a},"3e38":function(t,e,n){},"465d":function(t,e,n){},4678:function(t,e,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=o,t.exports=a,a.id="4678"},"54b5":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar",{on:{"show-posts":function(e){t.showPosts=!0},"hide-posts":function(e){t.showPosts=!1}}}),n("b-loading",{attrs:{"is-full-page":!0},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}),t.showPosts?n("div",{on:{click:function(e){t.showPosts=!1,t.$emit("get-comments")}}},t._l(t.posts,(function(e,s){return n("router-link",{key:s,staticClass:"router-link",attrs:{to:e._id}},[n("blog-post-preview",{attrs:{post:e},on:{"posts-changed":t.getPosts}})],1)})),1):t._e(),t.showPosts?t._e():n("router-view")],1)},o=[],r=(n("4160"),n("159b"),n("96cf"),n("1da1")),i=n("bc3a"),c=n.n(i),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card mx-3 my-3"},[n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title"},[t._v(t._s(t.post.title))]),t.loginToken?n("div",{staticClass:"media-right mt-3 mr-2"},[n("button",{staticClass:"delete",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deletePost(t.post)}}})]):t._e()]),n("div",{staticClass:"card-content"},[n("p",{staticClass:"content post-text",domProps:{innerHTML:t._s(t.post.text)}}),n("p",{staticClass:"content has-text-left subtitle is-7"},[t._v(" Posted on "+t._s(t.formatDate(t.post.timestamp))+" by "+t._s(t.post.authorName)+" ")])]),t.loginToken?n("footer",{staticClass:"card-footer"},[t.post.public?n("a",{staticClass:"card-footer-item",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.switchVisibility(t.post)}}},[t._v("Hide")]):n("a",{staticClass:"card-footer-item",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.switchVisibility(t.post)}}},[t._v("Publish")])]):t._e()])},l=[],p=n("c1df"),d=n.n(p),m={name:"BlogPostPreview",props:{post:{type:Object,required:!0,default:null}},data:function(){return{loginToken:localStorage.getItem("token")}},methods:{formatDate:function(t){return d()(t).format("MMM Do, YYYY")},deletePost:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.delete("https://disco-blog-api.herokuapp.com/posts/".concat(t._id),{headers:{authorization:"Bearer ".concat(e.loginToken)}});case 3:location.reload(),n.next=9;break;case 6:throw n.prev=6,n.t0=n["catch"](0),new Error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},switchVisibility:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=e,!t.public){n.next=13;break}return n.prev=2,n.next=5,c.a.put("https://disco-blog-api.herokuapp.com/posts/".concat(t._id),{public:!1},{headers:{authorization:"Bearer ".concat(s.loginToken)}});case 5:e.$emit("posts-changed"),n.next=11;break;case 8:throw n.prev=8,n.t0=n["catch"](2),new Error(n.t0);case 11:n.next=22;break;case 13:return n.prev=13,n.next=16,c.a.put("https://disco-blog-api.herokuapp.com/posts/".concat(t._id),{public:!0},{headers:{authorization:"Bearer ".concat(s.loginToken)}});case 16:e.$emit("posts-changed"),n.next=22;break;case 19:throw n.prev=19,n.t1=n["catch"](13),new Error(n.t1);case 22:case"end":return n.stop()}}),n,null,[[2,8],[13,19]])})))()}}},f=m,b=n("2877"),h=Object(b["a"])(f,u,l,!1,null,null,null),g=h.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-navbar",{attrs:{"mobile-burger":!1}},[n("template",{slot:"brand"},[n("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[n("p",{staticClass:"is-size-5",on:{click:function(e){return t.$emit("show-posts")}}},[t._v("Disco's Blog")])])],1),n("template",{slot:"brand"},[n("b-navbar-item",{attrs:{tag:"div",id:"burgerVisible"}},[n("section",[t.loginToken?n("div",[n("router-link",{staticClass:"mr-2 is-primary is-light button",attrs:{to:"new"},nativeOn:{click:function(e){return t.$emit("hide-posts")}}},[t._v("New Post")]),n("b-button",{attrs:{type:"is-light"},on:{click:t.logOut}},[t._v(" Log Out ")])],1):n("div",[n("button",{staticClass:"button is-primary is-outlined",on:{click:function(e){t.isComponentModalActive=!0}}},[t._v(" Log In ")]),n("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},scopedSlots:t._u([{key:"default",fn:function(t){return[n("login-modal",{on:{close:t.close}})]}}],null,!1,3780577769),model:{value:t.isComponentModalActive,callback:function(e){t.isComponentModalActive=e},expression:"isComponentModalActive"}})],1)])])],1)],2)},j=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"modal-card",staticStyle:{width:"auto"},attrs:{action:""}},[t._m(0),n("section",{staticClass:"modal-card-body"},[n("b-field",{attrs:{label:"Username"}},[n("b-input",{attrs:{id:"username",name:"username",type:"type",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("b-field",{attrs:{label:"Password",message:t.hasError?"Invalid login credentials":"",type:{"is-danger":t.hasError}}},[n("b-input",{attrs:{id:"password",name:"password",type:"password","password-reveal":"",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.loginUser(e)}}},[t._v(" Login ")]),n("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" Close ")])])])},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("Login")])])}],x={props:["canCancel"],data:function(){return{username:"",password:"",hasError:null}},methods:{loginUser:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.post("https://disco-blog-api.herokuapp.com/user/login",{username:t.username,password:t.password});case 3:n=e.sent,t.$emit("close"),localStorage.setItem("token",n.data.token),location.reload(),t.username="",t.password="",t.hasError=null,e.next=16;break;case 12:throw e.prev=12,e.t0=e["catch"](0),t.hasError=!0,new Error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()}}},_=x,y=Object(b["a"])(_,k,w,!1,null,null,null),C=y.exports,P={name:"Navbar",components:{LoginModal:C},data:function(){return{isComponentModalActive:!1,loginProps:{usernameProp:"",passwordProp:""},loginToken:localStorage.getItem("token")}},methods:{logOut:function(){localStorage.clear(),location.reload()}}},O=P,E=(n("16a3"),Object(b["a"])(O,v,j,!1,null,null,null)),$=E.exports,z={name:"App",components:{BlogPostPreview:g,Navbar:$},data:function(){return{posts:null,showPosts:!0,isLoading:!0,loginToken:localStorage.getItem("token")}},watch:{$route:function(t){"/"===t.path&&(this.showPosts=!0)}},methods:{getPosts:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,e.prev=1,!t.loginToken){e.next=8;break}return e.next=5,c.a.get("https://disco-blog-api.herokuapp.com/posts/all",{headers:{Authorization:"Bearer ".concat(t.loginToken)}});case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,c.a.get("https://disco-blog-api.herokuapp.com/posts/");case 10:a=e.sent;case 11:s=a.data,s.forEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("https://disco-blog-api.herokuapp.com/user/"+e.author);case 2:a=t.sent,s.forEach((function(t){e.author===t.author&&n.$set(t,"authorName",a.data.fullname)})),n.$set(e,"authorName",a.data.fullname);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.posts=s.reverse(),t.isLoading=!1,e.next=20;break;case 17:throw e.prev=17,e.t0=e["catch"](1),new Error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))()}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t,setTimeout((function(){n.posts||t.$buefy.toast.open({message:"Starting up Heroku",position:"is-bottom",duration:3e3})}),3500),t.getPosts();case 3:case"end":return e.stop()}}),e)})))()}},T=z,R=(n("5c0b"),Object(b["a"])(T,a,o,!1,null,null,null)),S=R.exports,M=n("8c4f"),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content mx-auto mt-6"},[t.editingPost?n("div",[n("b-input",{attrs:{type:"text",value:t.post.title},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}}),n("editor",{attrs:{apiKey:"tqqrd42v31nikrsu265p5q122mhmyubtn46o41km5jcmrvj9",initialValue:t.post.text,init:{theme_advanced_resizing_use_cookie:!1,height:500,menubar:!1,plugins:["advlist autolink lists link image charmap","searchreplace visualblocks code fullscreen","print preview anchor insertdatetime media","paste code help wordcount table"],toolbar:"undo redo | formatselect | bold italic |   alignleft aligncenter alignright |   bullist numlist outdent indent | help"}},model:{value:t.post.text,callback:function(e){t.$set(t.post,"text",e)},expression:"post.text"}})],1):n("div",[n("h2",[t._v(t._s(t.post.title))]),n("p",{domProps:{innerHTML:t._s(t.post.text)}})]),n("div",{staticClass:"is-flex justify-start mt-2",attrs:{id:"buttons"}},[!t.editingPost&&t.loginToken?n("b-button",{staticClass:"button mr-3",on:{click:function(e){t.editingPost=!0}}},[t._v("Edit")]):t._e(),t.editingPost?n("div",[n("b-button",{staticClass:"button mr-3",on:{click:function(e){t.editingPost=!1,t.savePost(t.post._id)}}},[t._v("Save")]),n("b-button",{staticClass:"button mr-3",on:{click:function(e){t.editingPost=!1,t.post.text=t.uneditedPost.text,t.post.title=t.uneditedPost.title}}},[t._v("Cancel")])],1):t._e(),t.editingPost?t._e():n("b-button",{staticClass:"button",on:{click:function(e){t.addingComment=!0}}},[t._v(" Add Comment ")])],1),n("div",{staticClass:"mt-6"},[t.addingComment?n("BlogPostNewComment",{staticClass:"mb-5",attrs:{id:t.id},on:{"comments-closed":function(e){t.addingComment=!1}}}):t._e(),n("BlogPostComments",{attrs:{id:t.id}})],1)])},N=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.comments,(function(e,s){return n("div",{key:s,staticClass:"mb-5 comment"},[n("article",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("div",{staticClass:"content"},[n("p",[n("strong",{staticClass:"mr-1"},[t._v(t._s(e.author))]),n("small",[t._v("on "+t._s(t.formatDate(e.timestamp)))]),n("br"),t._v(" "+t._s(e.text)+" ")])])]),t.loginToken?n("div",{staticClass:"media-right"},[n("button",{staticClass:"delete",on:{click:function(n){return t.deleteComment(e._id,t.id)}}})]):t._e()])])})),0)},L=[],A=(n("99af"),{name:"BlogPostComments",data:function(){return{comments:null,loginToken:localStorage.getItem("token")}},props:{id:String},methods:{formatDate:function(t){return d()(t).format("MMM Do YYYY, HH:mm")},deleteComment:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a=n,!n.loginToken){s.next=12;break}return s.prev=2,s.next=5,c.a.delete("https://disco-blog-api.herokuapp.com/posts/".concat(e,"/comments/").concat(t),{headers:{Authorization:"Bearer ".concat(a.loginToken)}});case 5:return s.next=7,a.getComments(e);case 7:s.next=12;break;case 9:throw s.prev=9,s.t0=s["catch"](2),new Error(s.t0);case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()},getComments:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.get("https://disco-blog-api.herokuapp.com/posts/".concat(t,"/comments"));case 3:s=n.sent,e.comments=s.data.reverse(),n.next=10;break;case 7:throw n.prev=7,n.t0=n["catch"](0),new Error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t,e.prev=1,t.getComments(t.id),t.$root.$on("comment-sent",(function(){n.getComments(n.id)})),e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](1),new Error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()}}),q=A,I=(n("faf8"),Object(b["a"])(q,D,L,!1,null,null,null)),Y=I.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"has-text-left",on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.id)}}},[n("h4",{staticClass:"has-text-centered"},[t._v("New Comment")]),n("b-field",{attrs:{label:"Name"}},[n("b-input",{attrs:{type:"text"},model:{value:t.author,callback:function(e){t.author=e},expression:"author"}})],1),n("b-field",{attrs:{label:"Text"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"textarea",domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),n("b-button",{staticClass:"mr-3",attrs:{type:"is-primary is-outlined",tag:"input","native-type":"submit",value:"Submit"}}),n("b-button",{on:{click:function(e){return t.$emit("comments-closed")}}},[t._v("Close")])],1)},V=[],U={name:"BlogPostNewComment",props:{id:String},data:function(){return{author:"",text:""}},methods:{onSubmit:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.post("https://disco-blog-api.herokuapp.com/posts/".concat(t,"/comments"),{author:e.author,text:e.text});case 3:e.$root.$emit("comment-sent"),e.author="",e.text="",n.next=11;break;case 8:throw n.prev=8,n.t0=n["catch"](0),new Error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}}},J=U,K=(n("250a"),Object(b["a"])(J,H,V,!1,null,null,null)),F=K.exports,G=n("ca72"),Q={props:{id:String},data:function(){return{post:"",addingComment:!1,editingPost:!1,uneditedPost:{text:"",title:""},loginToken:localStorage.getItem("token")}},methods:{savePost:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.put("https://disco-blog-api.herokuapp.com/posts/".concat(t),{text:e.post.text,title:e.post.title},{headers:{Authorization:"Bearer ".concat(e.loginToken)}});case 3:e.uneditedPost.text=e.post.text,e.uneditedPost.title=e.post.title,n.next=10;break;case 7:throw n.prev=7,n.t0=n["catch"](0),new Error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("https://disco-blog-api.herokuapp.com/posts/"+t.id);case 3:n=e.sent,t.post=n.data,t.uneditedPost.text=t.post.text,t.uneditedPost.title=t.post.title,e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},components:{BlogPostComments:Y,BlogPostNewComment:F,Editor:G["a"]}},W=Q,X=(n("e4a4"),Object(b["a"])(W,B,N,!1,null,null,null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editorDiv mt-5"},[n("b-field",{staticClass:"has-text-left",attrs:{label:"Title"}},[n("b-input",{attrs:{type:"text",value:t.post.title},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),n("b-field",{staticClass:"has-text-left",attrs:{label:"Text"}},[n("editor",{attrs:{apiKey:"tqqrd42v31nikrsu265p5q122mhmyubtn46o41km5jcmrvj9",initialValue:t.post.text,init:{theme_advanced_resizing_use_cookie:!1,height:400,menubar:!1,plugins:["advlist autolink lists link image charmap","searchreplace visualblocks code fullscreen","print preview anchor insertdatetime media","paste code help wordcount table"],toolbar:"undo redo | formatselect | bold italic |   alignleft aligncenter alignright |   bullist numlist outdent indent | help"}},model:{value:t.post.text,callback:function(e){t.$set(t.post,"text",e)},expression:"post.text"}})],1),n("div",{staticClass:"buttons"},[n("b-button",{attrs:{type:"is-primary is-light"},on:{click:t.submitPost}},[t._v("Save")]),n("router-link",{staticClass:"button is-light",attrs:{tag:"button",to:"/"}},[t._v("Cancel")])],1)],1)},et=[],nt={components:{Editor:G["a"]},data:function(){return{loginToken:localStorage.getItem("token"),post:{title:"",text:""}}},methods:{submitPost:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.post("https://disco-blog-api.herokuapp.com/posts/",{title:t.post.title,text:t.post.text},{headers:{authorization:"Bearer ".concat(t.loginToken)}});case 3:t.$router.push("/"),location.reload(),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},st=nt,at=(n("3363"),Object(b["a"])(st,tt,et,!1,null,null,null)),ot=at.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPosts?n("div",{on:{click:function(e){t.showPosts=!1,t.$emit("get-comments")}}},t._l(t.posts,(function(e,s){return n("router-link",{key:s,staticClass:"router-link",attrs:{to:e._id}},[n("blog-post-preview",{attrs:{post:e},on:{"posts-changed":t.getPosts}})],1)})),1):t._e()},it=[],ct={name:"App",components:{BlogPostPreview:g},data:function(){return{posts:null,showPosts:!0,isLoading:!0,loginToken:localStorage.getItem("token")}},watch:{$route:function(t){"/"===t.path&&(this.showPosts=!0)}},methods:{getPosts:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,e.prev=1,!t.loginToken){e.next=8;break}return e.next=5,c.a.get("https://disco-blog-api.herokuapp.com/posts/all",{headers:{Authorization:"Bearer ".concat(t.loginToken)}});case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,c.a.get("https://disco-blog-api.herokuapp.com/posts/");case 10:a=e.sent;case 11:s=a.data,s.forEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("https://disco-blog-api.herokuapp.com/user/"+e.author);case 2:a=t.sent,s.forEach((function(t){e.author===t.author&&n.$set(t,"authorName",a.data.fullname)})),n.$set(e,"authorName",a.data.fullname);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.posts=s.reverse(),t.isLoading=!1,e.next=20;break;case 17:throw e.prev=17,e.t0=e["catch"](1),new Error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))()}},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t,setTimeout((function(){n.posts||t.$buefy.toast.open({message:"Starting up Heroku",position:"is-bottom",duration:3e3})}),3500),t.getPosts();case 3:case"end":return e.stop()}}),e)})))()}},ut=ct,lt=(n("5914"),Object(b["a"])(ut,rt,it,!1,null,null,null)),pt=lt.exports;s["a"].use(M["a"]);var dt=[{path:"/",name:"Thumbnails",component:pt},{path:"/new",name:"New",component:ot},{path:"/:id",name:"Post",props:!0,component:Z}],mt=new M["a"]({routes:dt}),ft=mt,bt=n("289d");n("5abe");s["a"].config.productionTip=!1,s["a"].use(bt["a"]),new s["a"]({router:ft,render:function(t){return t(S)}}).$mount("#app")},5914:function(t,e,n){"use strict";var s=n("465d"),a=n.n(s);a.a},"5c0b":function(t,e,n){"use strict";var s=n("9c0c"),a=n.n(s);a.a},"8ff2":function(t,e,n){},9939:function(t,e,n){},"9c0c":function(t,e,n){},cd8c:function(t,e,n){},e4a4:function(t,e,n){"use strict";var s=n("9939"),a=n.n(s);a.a},faf8:function(t,e,n){"use strict";var s=n("54b5"),a=n.n(s);a.a}});
//# sourceMappingURL=app.2e49bd68.js.map